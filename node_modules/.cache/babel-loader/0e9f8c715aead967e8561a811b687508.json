{"ast":null,"code":"//Enable add new key Enum\nexport const Action = Object.freeze({\n  LoadMemories: 'LoadMemories',\n  FinishAddingOrder: 'FinishAddingOrder',\n  EnterEditMode: 'EnterEditMode',\n  LeaveEditMode: 'LeaveEditMode',\n  FinishSavingMemory: 'FinishSavingMemory',\n  FinishDeletingMemory: 'FinishDeletingMemory'\n}); //Action Creaters \n\nexport function loadMemories(memories) {\n  return {\n    type: Action.LoadMemories,\n    payload: memories\n  };\n}\nexport function finishAddingOrder(memory) {\n  return {\n    type: Action.FinishAddingOrder,\n    payload: memory\n  };\n}\nexport function enterEditMode(memory) {\n  return {\n    type: Action.EnterEditMode,\n    payload: memory\n  };\n}\nexport function leaveEditMode(memory) {\n  return {\n    type: Action.LeaveEditMode,\n    payload: memory\n  };\n}\nexport function finishSavingMemory(memory) {\n  return {\n    type: Action.FinishSavingMemory,\n    payload: memory\n  };\n}\nexport function finishDeletingMemory(memory) {\n  return {\n    type: Action.FinishDeletingMemory,\n    payload: memory\n  };\n}\n\nfunction checkForErrors(response) {\n  if (!response.ok) {\n    throw Error(`${response.status}: ${response.statusText}`);\n  }\n\n  return response;\n}\n\nconst host = 'https://zhuj3128.duckdns.org:8442';\nexport function loadDay(month, day) {\n  // return function\n  return dispatch => {\n    //run background\n    fetch(`${host}/memories/${month}/${day}`).then(checkForErrors).then(response => response.json()).then(data => {\n      if (data.ok) {\n        dispatch(loadMemories(data.memories));\n      }\n    }).catch(e => console.error(e));\n  };\n}\nexport function startAddingOrder(year, month, day) {\n  const memory = {\n    year,\n    month,\n    day,\n    message: ''\n  };\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(memory)\n  };\n  return dispatch => {\n    fetch(`${host}/memories`, options).then(checkForErrors).then(response => response.json()).then(data => {\n      if (data.ok) {\n        memory.id = data.id;\n        dispatch(finishAddingOrder(memory));\n      }\n    }).catch(e => console.error(e));\n  };\n}\nexport function startSavingMemory(memory) {\n  const options = {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(memory)\n  };\n  return dispatch => {\n    fetch(`${host}/memories/${memory.id}`, options).then(checkForErrors).then(response => response.json()).then(data => {\n      if (data.ok) {\n        dispatch(finishSavingMemory(memory));\n      }\n    }).catch(e => console.error(e));\n  };\n}\nexport function startDeletingMemory(memory) {\n  const options = {\n    method: 'DELETE' // headers:{\n    //     'Content-Type':'application/json',\n    // },\n    // body:JSON.stringify(memory),\n\n  };\n  return dispatch => {\n    fetch(`${host}/memories/${memory.id}`, options).then(checkForErrors).then(response => response.json()).then(data => {\n      if (data.ok) {\n        dispatch(finishDeletingMemory(memory));\n      }\n    }).catch(e => console.error(e));\n  };\n}","map":{"version":3,"sources":["C:/UWEC/CS268/Project2/CS268_WebProject2/project2/src/action.js"],"names":["Action","Object","freeze","LoadMemories","FinishAddingOrder","EnterEditMode","LeaveEditMode","FinishSavingMemory","FinishDeletingMemory","loadMemories","memories","type","payload","finishAddingOrder","memory","enterEditMode","leaveEditMode","finishSavingMemory","finishDeletingMemory","checkForErrors","response","ok","Error","status","statusText","host","loadDay","month","day","dispatch","fetch","then","json","data","catch","e","console","error","startAddingOrder","year","message","options","method","headers","body","JSON","stringify","id","startSavingMemory","startDeletingMemory"],"mappings":"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","sourcesContent":["//Enable add new key Enum\r\nexport const Action = Object.freeze({\r\n    LoadMemories: 'LoadMemories',\r\n    FinishAddingOrder:'FinishAddingOrder',\r\n    EnterEditMode:'EnterEditMode',\r\n    LeaveEditMode:'LeaveEditMode',\r\n    FinishSavingMemory: 'FinishSavingMemory',\r\n    FinishDeletingMemory: 'FinishDeletingMemory',\r\n\r\n});\r\n\r\n//Action Creaters \r\nexport function loadMemories(memories){\r\n    return {\r\n        type:Action.LoadMemories,\r\n        payload: memories,\r\n    }\r\n}\r\n\r\nexport function finishAddingOrder(memory){\r\n    return {\r\n        type:Action.FinishAddingOrder,\r\n        payload: memory,\r\n    }\r\n}\r\n\r\nexport function enterEditMode(memory){\r\n    return {\r\n        type:Action.EnterEditMode,\r\n        payload: memory,\r\n    }\r\n}\r\n\r\nexport function leaveEditMode(memory){\r\n    return {\r\n        type:Action.LeaveEditMode,\r\n        payload: memory,\r\n    }\r\n}\r\n\r\nexport function finishSavingMemory(memory){\r\n    return {\r\n        type:Action.FinishSavingMemory,\r\n        payload: memory,\r\n    }\r\n}\r\n\r\nexport function finishDeletingMemory(memory){\r\n    return {\r\n        type:Action.FinishDeletingMemory,\r\n        payload: memory,\r\n    }\r\n}\r\n\r\nfunction checkForErrors(response){\r\n    if(!response.ok){\r\n        throw Error(`${response.status}: ${response.statusText}`);\r\n    }\r\n    return response;\r\n}\r\n\r\nconst host = 'https://zhuj3128.duckdns.org:8442';\r\n\r\nexport function loadDay(month,day){\r\n    // return function\r\n    return dispatch => {\r\n        //run background\r\n        fetch(`${host}/memories/${month}/${day}`)\r\n        .then(checkForErrors)\r\n        .then(response=>response.json())\r\n        .then(data=>{\r\n            if(data.ok){\r\n               dispatch(loadMemories(data.memories));\r\n            }\r\n        })\r\n        .catch(e=>console.error(e));\r\n    }\r\n}\r\n\r\nexport function startAddingOrder(year,month,day){\r\n    const memory = {year,month,day,message:''};\r\n    const options = {\r\n        method:'POST',\r\n        headers:{\r\n            'Content-Type':'application/json',\r\n        },\r\n        body:JSON.stringify(memory),\r\n    }\r\n    return dispatch => {\r\n        fetch(`${host}/memories`,options)\r\n        .then(checkForErrors)\r\n        .then(response=>response.json())\r\n        .then(data=>{\r\n            if(data.ok){\r\n               memory.id = data.id;\r\n               dispatch(finishAddingOrder(memory));\r\n            }\r\n        })\r\n        .catch(e=>console.error(e));\r\n    }\r\n}\r\n\r\nexport function startSavingMemory(memory){\r\n    const options = {\r\n        method:'PATCH',\r\n        headers:{\r\n            'Content-Type':'application/json',\r\n        },\r\n        body:JSON.stringify(memory),\r\n    }\r\n    return dispatch => {\r\n        fetch(`${host}/memories/${memory.id}`,options)\r\n        .then(checkForErrors)\r\n        .then(response=>response.json())\r\n        .then(data=>{\r\n            if(data.ok){\r\n               dispatch(finishSavingMemory(memory));\r\n            }\r\n        })\r\n        .catch(e=>console.error(e));\r\n    };\r\n}\r\n\r\nexport function startDeletingMemory(memory){\r\n    const options = {\r\n        method:'DELETE',\r\n        // headers:{\r\n        //     'Content-Type':'application/json',\r\n        // },\r\n        // body:JSON.stringify(memory),\r\n    }\r\n    return dispatch => {\r\n        fetch(`${host}/memories/${memory.id}`,options)\r\n        .then(checkForErrors)\r\n        .then(response=>response.json())\r\n        .then(data=>{\r\n            if(data.ok){\r\n               dispatch(finishDeletingMemory(memory));\r\n            }\r\n        })\r\n        .catch(e=>console.error(e));\r\n    };\r\n}"]},"metadata":{},"sourceType":"module"}