{"ast":null,"code":"// Take in old state of data store collaborate with action and perform a new state of data \nimport { Action } from \"./action\";\nconst initialState = {\n  // download waitting flag\n  isWaiting: false,\n  memories: []\n};\n\nfunction reducer(state = initialState, action) {\n  // return first initial state\n  switch (action.type) {\n    case Action.LoadMemories:\n      return { ...state,\n        //action\n        memories: action.payload\n      };\n\n    case Action.FinishAddingOrder:\n      return { ...state,\n        //action\n        memories: [action.payload, ...state.memories]\n      };\n\n    case Action.EnterEditMode:\n      return { ...state,\n        memories: state.memories.map(memory => {\n          if (memory.id === action.payload.id) {\n            return { ...memory,\n              isEditing: true\n            };\n          } else {\n            return memory;\n          }\n        })\n      };\n\n    case Action.LeaveEditMode:\n      return { ...state,\n        memories: state.memories.map(memory => {\n          if (memory.id === action.payload.id) {\n            return { ...memory,\n              isEditing: undefined\n            }; //desapear\n          } else {\n            return memory;\n          }\n        })\n      };\n\n    case Action.FinishSavingMemory:\n      return { ...state,\n        memories: state.memories.map(memory => {\n          if (memory.id === action.payload.id) {\n            return action.payload; //desapear\n          } else {\n            return memory;\n          }\n        })\n      };\n\n    case Action.FinishDeletingMemory:\n      return { ...state,\n        memories: state.memories.filter(memory => memory.id !== action.payload.id)\n      };\n\n    default:\n      return state;\n  }\n} //only thing exported \n\n\nexport default reducer;","map":{"version":3,"sources":["C:/UWEC/CS268/Project2/CS268_WebProject2/project2/src/reducer.js"],"names":["Action","initialState","isWaiting","memories","reducer","state","action","type","LoadMemories","payload","FinishAddingOrder","EnterEditMode","map","memory","id","isEditing","LeaveEditMode","undefined","FinishSavingMemory","FinishDeletingMemory","filter"],"mappings":"AAAA;AAEA,SAAQA,MAAR,QAAqB,UAArB;AACA,MAAMC,YAAY,GAAG;AACjB;AACAC,EAAAA,SAAS,EAAE,KAFM;AAGjBC,EAAAA,QAAQ,EAAG;AAHM,CAArB;;AAMA,SAASC,OAAT,CAAiBC,KAAK,GAAGJ,YAAzB,EAAuCK,MAAvC,EAA8C;AAC1C;AACA,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKP,MAAM,CAACQ,YAAZ;AACI,aAAM,EACF,GAAGH,KADD;AAEF;AACAF,QAAAA,QAAQ,EAACG,MAAM,CAACG;AAHd,OAAN;;AAKA,SAAKT,MAAM,CAACU,iBAAZ;AACA,aAAM,EACF,GAAGL,KADD;AAEF;AACAF,QAAAA,QAAQ,EAAC,CAACG,MAAM,CAACG,OAAR,EAAiB,GAAGJ,KAAK,CAACF,QAA1B;AAHP,OAAN;;AAKA,SAAKH,MAAM,CAACW,aAAZ;AACA,aAAM,EACD,GAAGN,KADF;AAEDF,QAAAA,QAAQ,EAAEE,KAAK,CAACF,QAAN,CAAeS,GAAf,CAAmBC,MAAM,IAAE;AAClC,cAAGA,MAAM,CAACC,EAAP,KAAcR,MAAM,CAACG,OAAP,CAAeK,EAAhC,EAAmC;AAC/B,mBAAO,EAAC,GAAGD,MAAJ;AAAWE,cAAAA,SAAS,EAAE;AAAtB,aAAP;AACH,WAFD,MAEK;AACD,mBAAOF,MAAP;AACH;AACH,SANS;AAFT,OAAN;;AAUA,SAAKb,MAAM,CAACgB,aAAZ;AACA,aAAM,EACD,GAAGX,KADF;AAEDF,QAAAA,QAAQ,EAAEE,KAAK,CAACF,QAAN,CAAeS,GAAf,CAAmBC,MAAM,IAAE;AAClC,cAAGA,MAAM,CAACC,EAAP,KAAcR,MAAM,CAACG,OAAP,CAAeK,EAAhC,EAAmC;AAC/B,mBAAO,EAAC,GAAGD,MAAJ;AAAWE,cAAAA,SAAS,EAAEE;AAAtB,aAAP,CAD+B,CAE/B;AACH,WAHD,MAGK;AACD,mBAAOJ,MAAP;AACH;AACH,SAPS;AAFT,OAAN;;AAWA,SAAKb,MAAM,CAACkB,kBAAZ;AACI,aAAM,EACD,GAAGb,KADF;AAEDF,QAAAA,QAAQ,EAAEE,KAAK,CAACF,QAAN,CAAeS,GAAf,CAAmBC,MAAM,IAAE;AAClC,cAAGA,MAAM,CAACC,EAAP,KAAcR,MAAM,CAACG,OAAP,CAAeK,EAAhC,EAAmC;AAC/B,mBAAOR,MAAM,CAACG,OAAd,CAD+B,CAE/B;AACH,WAHD,MAGK;AACD,mBAAOI,MAAP;AACH;AACH,SAPS;AAFT,OAAN;;AAWA,SAAKb,MAAM,CAACmB,oBAAZ;AACJ,aAAM,EACD,GAAGd,KADF;AAEDF,QAAAA,QAAQ,EAAEE,KAAK,CAACF,QAAN,CAAeiB,MAAf,CAAsBP,MAAM,IAAGA,MAAM,CAACC,EAAP,KAAcR,MAAM,CAACG,OAAP,CAAeK,EAA5D;AAFT,OAAN;;AAIJ;AACI,aAAOT,KAAP;AAtDR;AAwDH,C,CAGD;;;AACA,eAAeD,OAAf","sourcesContent":["// Take in old state of data store collaborate with action and perform a new state of data \r\n\r\nimport {Action} from \"./action\";\r\nconst initialState = {\r\n    // download waitting flag\r\n    isWaiting: false,\r\n    memories : [],\r\n};\r\n\r\nfunction reducer(state = initialState, action){\r\n    // return first initial state\r\n    switch(action.type){\r\n        case Action.LoadMemories:\r\n            return{\r\n                ...state,\r\n                //action\r\n                memories:action.payload,\r\n            }\r\n            case Action.FinishAddingOrder:\r\n            return{\r\n                ...state,\r\n                //action\r\n                memories:[action.payload, ...state.memories],\r\n            }\r\n            case Action.EnterEditMode:\r\n            return{\r\n                 ...state,\r\n                 memories: state.memories.map(memory=>{\r\n                    if(memory.id === action.payload.id){\r\n                        return {...memory,isEditing: true};\r\n                    }else{\r\n                        return memory;\r\n                    }\r\n                 }),\r\n            };\r\n            case Action.LeaveEditMode:\r\n            return{\r\n                 ...state,\r\n                 memories: state.memories.map(memory=>{\r\n                    if(memory.id === action.payload.id){\r\n                        return {...memory,isEditing: undefined};\r\n                        //desapear\r\n                    }else{\r\n                        return memory;\r\n                    }\r\n                 }),\r\n            };\r\n            case Action.FinishSavingMemory:\r\n                return{\r\n                     ...state,\r\n                     memories: state.memories.map(memory=>{\r\n                        if(memory.id === action.payload.id){\r\n                            return action.payload;\r\n                            //desapear\r\n                        }else{\r\n                            return memory;\r\n                        }\r\n                     }),\r\n                };\r\n                case Action.FinishDeletingMemory:\r\n            return{\r\n                 ...state,\r\n                 memories: state.memories.filter(memory=> memory.id !== action.payload.id),\r\n            };\r\n        default:\r\n            return state;\r\n        }\r\n}\r\n\r\n\r\n//only thing exported \r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}